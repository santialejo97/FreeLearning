function alertar(){alert("Buenas..."),traerDatos()}async function traerDatos(){try{const e="http://localhost:3000/api/estudiante",o=await fetch(e,{method:"GET"}),a=await o.json();console.log(a)}catch(e){console.log(e)}}const usuario={usuarioNombre:"",usuarioEmail:"",usuarioPassword:"",usuarioPoliticaDatos:"",usuarioCarrera:""};function iniciarPagina(){llenarSelector(),capturaDatos(),enviarObjeto(),alertar()}async function llenarSelector(){try{const e=await fetch("http://localhost:3000/api/carreras/",{method:"GET"}),o=await e.json();console.log(o);const a=document.querySelector("#carrera");o.forEach(e=>{const{carreraNombre:o,carreraId:r}=e;console.log(o);const t=document.createElement("OPTION");t.classList.add("opcionCarrera"),t.value=r,t.innerHTML=o,a.appendChild(t)})}catch(e){console.log(e)}}function conectarApi(){try{const e="http://localhost:3000/api/estudiantes/";console.log(usuario),fetch(e,{method:"POST",body:JSON.stringify({estudianteNombre:usuario.usuarioNombre,estudianteEmail:usuario.usuarioEmail,estudiantePassword:usuario.usuarioPassword}),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{console.log(e)})}catch(e){console.log(e)}}function capturaDatos(){document.querySelector("#nombre").addEventListener("input",e=>{usuario.usuarioNombre=e.target.value.trim()});document.querySelector("#carrera").addEventListener("click",e=>{usuario.usuarioCarrera=parseInt(e.target.value)});document.querySelector("#email").addEventListener("input",e=>{usuario.usuarioEmail=e.target.value.trim()});document.querySelector("#password").addEventListener("input",e=>{usuario.usuarioPassword=e.target.value.trim()})}function mostrarAlerta(e,o){const a=document.createElement("DIV");a.textContent=e,a.classList.add("alerta"),"error"==o?a.classList.add("error"):a.classList.add("creado");document.querySelector(".formulario_usuarios").appendChild(a),setTimeout(()=>{a.remove()},3e3)}function enviarObjeto(){document.querySelector("#envio").addEventListener("click",e=>{const o=document.getElementById("opt-in").checked;console.log(o),usuario.usuarioPoliticaDatos=o?1:0,""==usuario.usuarioNombre&&""==usuario.usuarioCarrera&&""==usuario.usuarioEmail&&""==usuarioPassword?(mostrarAlerta("Es necesario llenar nombre, contraseña, ","error"),console.log(usuario),e.preventDefault):(mostrarAlerta("Usuario Creado Correctamente","correcto"),conectarApi(),console.log("estoy enviando ...."),console.log(usuario))})}document.addEventListener("DOMContentLoaded",()=>{iniciarPagina()});
let pagina=1;const usuario={usuarioNombre:"",usuarioEmail:"",usuarioPassword:"",usuarioPoliticaDatos:"",usuarioCarrera:""};function iniciarPagina(){llenarSelector(),enviarObjeto(),mostrarSeccion(),cambiarSeccion(),capturaDatosEstudiante(),capturaDatosEmpleado()}async function llenarSelector(){try{const o=await fetch("http://localhost:3000/api/carreras/",{method:"GET"}),a=await o.json(),e=document.querySelector("#carrera");a.forEach(o=>{const{carreraNombre:a,carreraId:r}=o,t=document.createElement("OPTION");t.classList.add("opcionCarrera"),t.value=r,t.innerHTML=a,e.appendChild(t)})}catch(o){console.log(o)}}function conectarApi(){try{let o,a;1===pagina?(o="estudiantes",a=`http://localhost:3000/api/${o}/`,console.log(usuario),fetch(a,{method:"POST",body:JSON.stringify({estudianteNombre:usuario.usuarioNombre,estudianteEmail:usuario.usuarioEmail,estudiantePassword:usuario.usuarioPassword,estudiantePoliticaDatos:usuario.usuarioPoliticaDatos,fk_carreraId:usuario.usuarioCarrera}),headers:{"Content-Type":"application/json"}}).then(o=>o.json()).then(o=>{console.log(o)})):2===pagina&&(o="empleados",a=`http://localhost:3000/api/${o}/`,console.log(usuario),fetch(a,{method:"POST",body:JSON.stringify({empleadoNombre:usuario.usuarioNombre,empleadoEmail:usuario.usuarioEmail,empleadoPassword:usuario.usuarioPassword,empleadoPoliticaDatos:usuario.usuarioPoliticaDatos}),headers:{"Content-Type":"application/json"}}).then(o=>o.json()).then(o=>{console.log(o)}))}catch(o){console.log(o)}}function capturaDatosEstudiante(){document.querySelector("#nombre").addEventListener("input",o=>{usuario.usuarioNombre=o.target.value.trim(),console.log(usuario)});document.querySelector("#carrera").addEventListener("click",o=>{usuario.usuarioCarrera=parseInt(o.target.value),console.log(usuario)});document.querySelector("#email").addEventListener("input",o=>{usuario.usuarioEmail=o.target.value.trim(),console.log(usuario)});document.querySelector("#password").addEventListener("input",o=>{usuario.usuarioPassword=o.target.value.trim(),console.log(usuario)})}function capturaDatosEmpleado(){document.querySelector("#nombreempleado").addEventListener("input",o=>{usuario.usuarioNombre=o.target.value.trim()});document.querySelector("#emailempleado").addEventListener("input",o=>{usuario.usuarioEmail=o.target.value.trim()});document.querySelector("#passwordempleado").addEventListener("input",o=>{usuario.usuarioPassword=o.target.value.trim()})}function mostrarAlerta(o,a){const e=document.createElement("DIV");if(e.textContent=o,e.classList.add("alerta"),"error"==a?e.classList.add("error"):e.classList.add("creado"),1===pagina){document.querySelector(".mensaje1").appendChild(e)}else{document.querySelector(".mensaje2").appendChild(e)}setTimeout(()=>{e.remove()},5e3)}function politicasAceptacion(){const o=document.getElementById("opt-in").checked;console.log(o),usuario.usuarioPoliticaDatos=o?1:0}function validacionCampos(){1===pagina?""===usuario.usuarioNombre||""===usuario.usuarioCarrera||""===usuario.usuarioEmail||""===usuario.usuarioPassword?(mostrarAlerta("Es necesario llenar nombre, contraseña, carrera y correo ","error"),console.log(usuario)):(mostrarAlerta("Usuario Creado Correctamente","correcto"),conectarApi(),console.log("estoy enviando ...."),console.log(usuario)):""===usuario.usuarioNombre||""===usuario.usuarioEmail||""===usuario.usuarioPassword?(mostrarAlerta("Es necesario llenar nombre, contraseña y correo ","error"),console.log(usuario),console.log(pagina)):(mostrarAlerta("Usuario Creado Correctamente","correcto"),conectarApi(),console.log(pagina),console.log("estoy enviando ...."),console.log(usuario))}function enviarObjeto(){document.querySelector("#envio").addEventListener("click",o=>{1===pagina?(console.log(pagina),capturaDatosEstudiante()):(console.log(pagina),capturaDatosEmpleado()),console.log(usuario),politicasAceptacion(),validacionCampos()})}function mostrarSeccion(){const o=document.querySelector(".mostrarseccion");o&&o.classList.remove("mostrarseccion");document.querySelector("#pagina-"+pagina).classList.add("mostrarseccion")}function cambiarSeccion(){document.querySelectorAll(".tabs button").forEach(o=>{o.addEventListener("click",o=>{o.preventDefault(),pagina=parseInt(o.target.dataset.pagina),mostrarSeccion()})})}document.addEventListener("DOMContentLoaded",()=>{iniciarPagina()});
//# sourceMappingURL=bundle.js.map
