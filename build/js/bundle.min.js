const usuario={usuarioNombre:"",usuarioEmail:"",usuarioPassword:"",usuarioPoliticaDatos:"",usuarioCarrera:""};function iniciarPagina(){llenarSelector(),capturaDatos(),enviarObjeto()}async function llenarSelector(){try{const o=await fetch("http://localhost:3000/api/carreras/",{method:"GET"}),a=await o.json();console.log(a);const e=document.querySelector("#carrera");a.forEach(o=>{const{carreraNombre:a,carreraId:r}=o;console.log(a);const t=document.createElement("OPTION");t.classList.add("opcionCarrera"),t.value=r,t.innerHTML=a,e.appendChild(t)})}catch(o){console.log(o)}}function conectarApi(){try{const o="http://localhost:3000/api/estudiantes/";console.log(usuario),fetch(o,{method:"POST",body:JSON.stringify({estudianteNombre:usuario.usuarioNombre,estudianteEmail:usuario.usuarioEmail,estudiantePassword:usuario.usuarioPassword,estudiantePoliticaDatos:usuario.usuarioPoliticaDatos,fk_carreraId:usuario.usuarioCarrera}),headers:{"Content-Type":"application/json"}}).then(o=>o.json()).then(o=>{console.log(o)})}catch(o){console.log(o)}}function capturaDatos(){document.querySelector("#nombre").addEventListener("input",o=>{usuario.usuarioNombre=o.target.value.trim()});document.querySelector("#carrera").addEventListener("click",o=>{usuario.usuarioCarrera=parseInt(o.target.value)});document.querySelector("#email").addEventListener("input",o=>{usuario.usuarioEmail=o.target.value.trim()});document.querySelector("#password").addEventListener("input",o=>{usuario.usuarioPassword=o.target.value.trim()})}function mostrarAlerta(o,a){const e=document.createElement("DIV");e.textContent=o,e.classList.add("alerta"),"error"==a?e.classList.add("error"):e.classList.add("creado");document.querySelector(".formulario_usuarios").appendChild(e),setTimeout(()=>{e.remove()},5e3)}function politicasAceptacion(){const o=document.getElementById("opt-in").checked;console.log(o),usuario.usuarioPoliticaDatos=o?1:0}function validacionCampos(){""===usuario.usuarioNombre||""===usuario.usuarioCarrera||""===usuario.usuarioEmail||""===usuarioPassword?(mostrarAlerta("Es necesario llenar nombre, contraseÃ±a, carrera y correo ","error"),console.log(usuario),e.preventDefault):(mostrarAlerta("Usuario Creado Correctamente","correcto"),conectarApi(),console.log("estoy enviando ...."),console.log(usuario))}function enviarObjeto(){document.querySelector("#envio").addEventListener("click",o=>{politicasAceptacion(),validacionCampos()})}document.addEventListener("DOMContentLoaded",()=>{iniciarPagina()});
//# sourceMappingURL=bundle.js.map
